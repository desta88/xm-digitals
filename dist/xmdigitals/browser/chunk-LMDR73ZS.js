import{G as m,H as d,J as u,K as g,Q as h,a,b as c,d as l,e as o,f as p}from"./chunk-DY7FG7ET.js";var y=class s{constructor(t,e,r,i,n){this.router=t;this.titleService=e;this.metaService=r;this.dom=n;this.isBrowser=d(i)}isBrowser;SITE_URL="https://xmdigitals.com";BRAND_NAME="XM Digitals";DEFAULT_TITLE="XM Digitals | End-to-End Digital Solutions, Enhanced with AI";update(t){let e=this.router.url.split("?")[0],r=`${this.SITE_URL}${e==="/"?"":e}`,i=t.url||r,n=this.formatTitle(t.title??this.DEFAULT_TITLE);this.titleService.setTitle(n),this.updateMetaTags(c(a({},t),{url:i}),n),this.updateCanonical(i),t.schema&&this.updateJsonLd(t.schema)}updateMetaTags(t,e){let r=t.description||"",i=this.getAbsoluteUrl(t.image||"assets/images/logo-xm.png"),n=[{property:"og:title",content:e},{property:"og:description",content:r},{property:"og:image",content:i},{property:"og:type",content:t.type??"website"},{property:"og:site_name",content:this.BRAND_NAME},{property:"og:url",content:t.url||this.SITE_URL},{name:"twitter:title",content:e},{name:"twitter:description",content:r},{name:"twitter:image",content:i},{name:"twitter:card",content:"summary_large_image"},{name:"description",content:r},{name:"author",content:t.author??this.BRAND_NAME},{name:"robots",content:"index, follow"}];t.keywords&&n.push({name:"keywords",content:t.keywords}),n.forEach(f=>{this.metaService.updateTag(f)})}updateCanonical(t){let e=this.dom.head,r=e.querySelector('link[rel="canonical"]');r&&e.removeChild(r);let i=this.dom.createElement("link");i.setAttribute("rel","canonical"),i.setAttribute("href",t),e.appendChild(i)}updateJsonLd(t){let e=this.dom.getElementById("xm-json-ld");e?e.text=JSON.stringify(t):(e=this.dom.createElement("script"),e.id="xm-json-ld",e.type="application/ld+json",e.text=JSON.stringify(t),this.dom.head.appendChild(e))}formatTitle(t){return t.includes(this.BRAND_NAME)?t:`${t} | ${this.BRAND_NAME}`}getAbsoluteUrl(t){if(t.startsWith("http"))return t;let e=t.startsWith("/")?t:`/${t}`;return`${this.SITE_URL}${e}`}static \u0275fac=function(e){return new(e||s)(o(h),o(g),o(u),o(p),o(m))};static \u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})};export{y as a};
